.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

/* Generated by spimdisasm 1.11.1 */

glabel fio_load_game
/* 674C 8002B34C 27BDFFD8 */  addiu      $sp, $sp, -0x28
/* 6750 8002B350 AFB3001C */  sw         $s3, 0x1C($sp)
/* 6754 8002B354 3C13800D */  lui        $s3, %hi(gCurrentSaveFile)
/* 6758 8002B358 26737430 */  addiu      $s3, $s3, %lo(gCurrentSaveFile)
/* 675C 8002B35C AFB10014 */  sw         $s1, 0x14($sp)
/* 6760 8002B360 0260882D */  daddu      $s1, $s3, $zero
/* 6764 8002B364 AFB00010 */  sw         $s0, 0x10($sp)
/* 6768 8002B368 0000802D */  daddu      $s0, $zero, $zero
/* 676C 8002B36C 3C05800A */  lui        $a1, %hi(D_80099190)
/* 6770 8002B370 24A59190 */  addiu      $a1, $a1, %lo(D_80099190)
/* 6774 8002B374 3C038007 */  lui        $v1, %hi(gGameStatusPtr)
/* 6778 8002B378 8C6314AC */  lw         $v1, %lo(gGameStatusPtr)($v1)
/* 677C 8002B37C 000410C0 */  sll        $v0, $a0, 3
/* 6780 8002B380 AFB20018 */  sw         $s2, 0x18($sp)
/* 6784 8002B384 00459021 */  addu       $s2, $v0, $a1
/* 6788 8002B388 AFBF0020 */  sw         $ra, 0x20($sp)
/* 678C 8002B38C A0640166 */  sb         $a0, 0x166($v1)
.L8002B390:
/* 6790 8002B390 0C00AC57 */  jal        fio_fetch_saved_file_info
/* 6794 8002B394 00000000 */   nop
/* 6798 8002B398 8E440000 */  lw         $a0, 0x0($s2)
/* 679C 8002B39C 04820009 */  bltzl      $a0, .L8002B3C4
/* 67A0 8002B3A0 26100001 */   addiu     $s0, $s0, 0x1
/* 67A4 8002B3A4 0220282D */  daddu      $a1, $s1, $zero
/* 67A8 8002B3A8 0C00AEA7 */  jal        fio_read_flash
/* 67AC 8002B3AC 24061380 */   addiu     $a2, $zero, 0x1380
/* 67B0 8002B3B0 0C00AC40 */  jal        fio_validate_file_checksum
/* 67B4 8002B3B4 0220202D */   daddu     $a0, $s1, $zero
/* 67B8 8002B3B8 14400005 */  bnez       $v0, .L8002B3D0
/* 67BC 8002B3BC 24020004 */   addiu     $v0, $zero, 0x4
/* 67C0 8002B3C0 26100001 */  addiu      $s0, $s0, 0x1
.L8002B3C4:
/* 67C4 8002B3C4 2A020004 */  slti       $v0, $s0, 0x4
/* 67C8 8002B3C8 1440FFF1 */  bnez       $v0, .L8002B390
/* 67CC 8002B3CC 24020004 */   addiu     $v0, $zero, 0x4
.L8002B3D0:
/* 67D0 8002B3D0 1202000B */  beq        $s0, $v0, .L8002B400
/* 67D4 8002B3D4 0000102D */   daddu     $v0, $zero, $zero
/* 67D8 8002B3D8 3C048007 */  lui        $a0, %hi(gGameStatusPtr)
/* 67DC 8002B3DC 8C8414AC */  lw         $a0, %lo(gGameStatusPtr)($a0)
/* 67E0 8002B3E0 8E63003C */  lw         $v1, 0x3C($s3)
/* 67E4 8002B3E4 8C820168 */  lw         $v0, 0x168($a0)
/* 67E8 8002B3E8 0043102B */  sltu       $v0, $v0, $v1
/* 67EC 8002B3EC 54400001 */  bnel       $v0, $zero, .L8002B3F4
/* 67F0 8002B3F0 AC830168 */   sw        $v1, 0x168($a0)
.L8002B3F4:
/* 67F4 8002B3F4 0C00ADB1 */  jal        fio_deserialize_state
/* 67F8 8002B3F8 00000000 */   nop
/* 67FC 8002B3FC 24020001 */  addiu      $v0, $zero, 0x1
.L8002B400:
/* 6800 8002B400 8FBF0020 */  lw         $ra, 0x20($sp)
/* 6804 8002B404 8FB3001C */  lw         $s3, 0x1C($sp)
/* 6808 8002B408 8FB20018 */  lw         $s2, 0x18($sp)
/* 680C 8002B40C 8FB10014 */  lw         $s1, 0x14($sp)
/* 6810 8002B410 8FB00010 */  lw         $s0, 0x10($sp)
/* 6814 8002B414 03E00008 */  jr         $ra
/* 6818 8002B418 27BD0028 */   addiu     $sp, $sp, 0x28
